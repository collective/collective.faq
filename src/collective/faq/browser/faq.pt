<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      xml:lang="en"
      i18n:domain="collective.faq"
>
  <body>
    <metal:content-core fill-slot="content-core">
      <div>
        <a class="btn btn-primary"
           aria-controls=".faq-item-answer"
           aria-expanded="false"
           data-bs-target=".faq-item-answer"
           data-bs-toggle="collapse"
           i18n:translate=""
        >
          Show/Hide all
        </a>
      </div>
      <div class="accordion">
        <div class="accordion-item"
             tal:repeat="item view/questions"
        >
          <tal:item define="
                      obj item/getObject;
                    ">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed"
                      aria-controls="faq-item-${item/UID}"
                      aria-expanded="false"
                      type="button"
                      data-bs-target="#faq-item-${item/UID}"
                      data-bs-toggle="collapse"
              >
                ${obj/title}
              </button>
              <p class="discreet ms-4"
                 tal:condition="obj/detailed_question|nothing"
              >${obj/detailed_question}</p>
            </h2>
            <div class="faq-item-answer accordion-collapse collapse"
                 id="faq-item-${item/UID}"
            >
              <div class="accordion-body">
                ${structure: obj/answer/output | nothing}
              </div>
            </div>
          </tal:item>
        </div>
      </div>
      <button class="faq-toggle-answers"
              i18n:translate=""
      >
        Show/Hide all
      </button>
      <ul class="faq">
        <tal:questions repeat="item view/questions">
          <li class="faq-li-question"
              tal:define="
                obj item/getObject;
              "
              tal:condition="python: not view.nested_item(obj)"
          >
            <i class="glyphicon glyphicon-plus"></i>
            <a class="faq-question"
               tal:content="obj/title"
               tal:attributes="
                 href obj/absolute_url;
               "
            >
              Question
            </a>
            <div class="faq-detailed-question"
                 tal:content="obj/detailed_question"
            >
              Detailed Question
            </div>
            <div class="faq-answer"
                 tal:define="
                   answer obj/answer/output | nothing;
                 "
                 tal:condition="answer"
            >
              <div tal:content="structure answer">
                Answer
              </div>
            </div>
          </li>
          <li class="faq-li-nested"
              tal:define="
                obj item/getObject;
              "
              tal:condition="python: view.nested_item(obj)"
          >
            <h2>
              <a class="faq-nested-title"
                 tal:content="obj/title"
                 tal:attributes="
                   href obj/absolute_url;
                 "
              >
                Nested FAQ
              </a>
            </h2>
            <div class="faq-nested-description"
                 tal:content="obj/description"
            >
              Nested FAQ Description
            </div>
            <ul class="faq-nested">
              <tal:nested repeat="nested python: view.questions(faq=obj)">
                <li class="faq-li-question"
                    tal:define="
                      nested_obj nested/getObject;
                    "
                >
                  <i class="glyphicon glyphicon-plus"></i>
                  <a class="faq-question"
                     tal:content="nested_obj/title"
                     tal:attributes="
                       href nested_obj/absolute_url;
                     "
                  >
                    Question
                  </a>
                  <div class="faq-detailed-question"
                       tal:content="nested_obj/detailed_question"
                  >
                    Detailed Question
                  </div>
                  <div class="faq-answer"
                       tal:define="
                         answer nested_obj/answer/output | nothing;
                       "
                       tal:condition="answer"
                  >
                    <div tal:content="structure answer">
                      Answer
                    </div>
                  </div>
                </li>
              </tal:nested>
            </ul>
          </li>
        </tal:questions>
      </ul>
    </metal:content-core>
  </body>
</html>
